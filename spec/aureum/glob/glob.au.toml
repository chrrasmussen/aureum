test_program = { env = "AUREUM_TEST_EXEC" }

expected_stderr = ""
expected_exit_code = 0


[tests.single-file]
test_arguments = ["--show-all-tests", "helpers/dir1/test1.toml"]
expected_stdout = """
Started running 1 tests:
.

✅ helpers/dir1/test1.toml

Finished running tests: 1 passed, 0 failures
"""


[tests.single-dir]
test_arguments = ["--show-all-tests", "helpers/dir1/*.toml"]
expected_stdout = """
Started running 2 tests:
..

✅ helpers/dir1/test1.toml
✅ helpers/dir1/test2.toml

Finished running tests: 2 passed, 0 failures
"""


[tests.multiple-dirs]
test_arguments = [
  "--show-all-tests",
  "helpers/dir1/*.toml",
  "helpers/dir2/*.toml",
  "helpers/dir1/*.toml", # This argument is redundant, but it tests that the paths are deduplicated.
]
expected_stdout = """
Started running 4 tests:
....

✅ helpers/dir1/test1.toml
✅ helpers/dir1/test2.toml
✅ helpers/dir2/test1.toml
✅ helpers/dir2/test2.toml

Finished running tests: 4 passed, 0 failures
"""


[tests.multiple-files]
test_arguments = [
  "--show-all-tests",
  "helpers/dir1/test1.toml",
  "helpers/dir1/test2.toml",
]
expected_stdout = """
Started running 2 tests:
..

✅ helpers/dir1/test1.toml
✅ helpers/dir1/test2.toml

Finished running tests: 2 passed, 0 failures
"""
