program = { env = "AUREUM_TEST_EXEC" }


[tests.verbose_mode]
program_arguments = [
   "--verbose",
   "--hide-absolute-paths",
   "verbose_helpers/*.toml",
]
expected_stdout = """
ğŸš€ Running 3 tests:
...

Test result: OK (3 passed, 0 failed)
"""
expected_stderr = """
ğŸ” Found 2 config files
â”œâ”€ verbose_helpers/many_requirements.toml
â””â”€ verbose_helpers/no_requirements.toml

ğŸ“‹ verbose_helpers/many_requirements.toml
â”œâ”€ :env_var_exists
â”‚  â”œâ”€ Program to run
â”‚  â”‚  â””â”€ âœ… <absolute path to 'echo'>
â”‚  â””â”€ Requirements
â”‚     â””â”€ Environment
â”‚        â””â”€ âœ… AUREUM_TEST_HELLO_WORLD
â”œâ”€ :env_var_missing
â”‚  â”œâ”€ Program to run
â”‚  â”‚  â””â”€ âœ… <absolute path to 'echo'>
â”‚  â”œâ”€ Requirements
â”‚  â”‚  â””â”€ Environment
â”‚  â”‚     â””â”€ âŒ AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST
â”‚  â””â”€ Validation errors
â”‚     â””â”€ âŒ Missing environment variable 'AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST'
â”œâ”€ :external_file_exists
â”‚  â”œâ”€ Program to run
â”‚  â”‚  â””â”€ âœ… <absolute path to 'echo'>
â”‚  â””â”€ Requirements
â”‚     â””â”€ Files
â”‚        â””â”€ âœ… hello_world.txt
â””â”€ :external_file_missing
   â”œâ”€ Program to run
   â”‚  â””â”€ âœ… <absolute path to 'echo'>
   â”œâ”€ Requirements
   â”‚  â””â”€ Files
   â”‚     â””â”€ âŒ aureum_test_this_file_does_not_exist
   â””â”€ Validation errors
      â””â”€ âŒ Missing external file 'aureum_test_this_file_does_not_exist'

ğŸ“‹ verbose_helpers/no_requirements.toml
â””â”€ Program to run
   â””â”€ âœ… <absolute path to 'echo'>

Some config files contain errors (See above)
"""
expected_exit_code = 1


[tests.default]
program_arguments = ["verbose_helpers/*.toml"]
expected_stdout = """
ğŸš€ Running 3 tests:
...

Test result: OK (3 passed, 0 failed)
"""
expected_stderr = """
ğŸ“‹ verbose_helpers/many_requirements.toml
â”œâ”€ :env_var_exists
â”œâ”€ :env_var_missing
â”‚  â””â”€ Validation errors
â”‚     â””â”€ âŒ Missing environment variable 'AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST'
â”œâ”€ :external_file_exists
â””â”€ :external_file_missing
   â””â”€ Validation errors
      â””â”€ âŒ Missing external file 'aureum_test_this_file_does_not_exist'

Some config files contain errors (See above)
"""
expected_exit_code = 1
