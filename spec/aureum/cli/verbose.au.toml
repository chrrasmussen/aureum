program = { env = "AUREUM_TEST_EXEC" }


[tests.verbose-mode]
program_arguments = [
   "--verbose",
   "--hide-absolute-paths",
   "verbose-helpers/*.toml",
]
expected_stdout = """
ğŸš€ Running 3 tests:
...

Test result: OK (3 passed, 0 failed)
"""
expected_stderr = """
ğŸ” Found 2 config files
â”œâ”€ verbose-helpers/many-requirements.toml
â””â”€ verbose-helpers/no-requirements.toml

ğŸ“‹ verbose-helpers/many-requirements.toml
â”œâ”€ :env-var-exists
â”‚  â”œâ”€ Program to run
â”‚  â”‚  â””â”€ âœ… <absolute path to 'echo'>
â”‚  â””â”€ Requirements
â”‚     â””â”€ Environment
â”‚        â””â”€ âœ… AUREUM_TEST_HELLO_WORLD
â”œâ”€ :env-var-missing
â”‚  â”œâ”€ Requirements
â”‚  â”‚  â””â”€ Environment
â”‚  â”‚     â””â”€ âŒ AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST
â”‚  â””â”€ Validation errors
â”‚     â””â”€ âŒ Missing environment variable 'AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST'
â”œâ”€ :external-file-exists
â”‚  â”œâ”€ Program to run
â”‚  â”‚  â””â”€ âœ… <absolute path to 'echo'>
â”‚  â””â”€ Requirements
â”‚     â””â”€ Files
â”‚        â””â”€ âœ… hello-world.txt
â””â”€ :external-file-missing
   â”œâ”€ Requirements
   â”‚  â””â”€ Files
   â”‚     â””â”€ âŒ aureum-test-file-does-not-exist
   â””â”€ Validation errors
      â””â”€ âŒ Missing external file 'aureum-test-file-does-not-exist'

ğŸ“‹ verbose-helpers/no-requirements.toml
â””â”€ Program to run
   â””â”€ âœ… <absolute path to 'echo'>

Some config files contain errors (See above)
"""
expected_exit_code = 1


[tests.default]
program_arguments = ["verbose-helpers/*.toml"]
expected_stdout = """
ğŸš€ Running 3 tests:
...

Test result: OK (3 passed, 0 failed)
"""
expected_stderr = """
ğŸ“‹ verbose-helpers/many-requirements.toml
â”œâ”€ :env-var-exists
â”œâ”€ :env-var-missing
â”‚  â””â”€ Validation errors
â”‚     â””â”€ âŒ Missing environment variable 'AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST'
â”œâ”€ :external-file-exists
â””â”€ :external-file-missing
   â””â”€ Validation errors
      â””â”€ âŒ Missing external file 'aureum-test-file-does-not-exist'

Some config files contain errors (See above)
"""
expected_exit_code = 1
