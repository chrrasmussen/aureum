program = { env = "AUREUM_TEST_EXEC" }


[tests.verbose-mode]
program_arguments = [
  "--verbose",
  "verbose-helpers/*.toml",
]
expected_stdout = """
🚀 Running 3 tests:
...

Test result: OK (3 passed, 0 failed)
"""
expected_stderr = """
🔍 Found 2 config files
├─ verbose-helpers/many-requirements.toml
└─ verbose-helpers/no-requirements.toml

📋 verbose-helpers/many-requirements.toml
├─ :env-var-exists
│  ├─ Requirements
│  │  └─ Environment
│  │     └─ ✅ AUREUM_TEST_HELLO_WORLD
│  └─ Validation errors
│     └─ ✅ None
├─ :env-var-missing
│  ├─ Requirements
│  │  └─ Environment
│  │     └─ ❌ AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST
│  └─ Validation errors
│     └─ ❌ Missing environment variable 'AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST'
├─ :external-file-exists
│  ├─ Requirements
│  │  └─ Files
│  │     └─ ✅ hello-world.txt
│  └─ Validation errors
│     └─ ✅ None
└─ :external-file-missing
   ├─ Requirements
   │  └─ Files
   │     └─ ❌ aureum-test-file-does-not-exist
   └─ Validation errors
      └─ ❌ Missing external file 'aureum-test-file-does-not-exist'

📋 verbose-helpers/no-requirements.toml
├─ Requirements
│  └─ ✅ None
└─ Validation errors
   └─ ✅ None

Some config files contain errors (See above)
"""
expected_exit_code = 1


[tests.default]
program_arguments = [
  "verbose-helpers/*.toml",
]
expected_stdout = """
🚀 Running 3 tests:
...

Test result: OK (3 passed, 0 failed)
"""
expected_stderr = """
📋 verbose-helpers/many-requirements.toml
├─ :env-var-exists
│  └─ Validation errors
│     └─ ✅ None
├─ :env-var-missing
│  └─ Validation errors
│     └─ ❌ Missing environment variable 'AUREUM_TEST_ENV_VAR_DOES_NOT_EXIST'
├─ :external-file-exists
│  └─ Validation errors
│     └─ ✅ None
└─ :external-file-missing
   └─ Validation errors
      └─ ❌ Missing external file 'aureum-test-file-does-not-exist'

Some config files contain errors (See above)
"""
expected_exit_code = 1
